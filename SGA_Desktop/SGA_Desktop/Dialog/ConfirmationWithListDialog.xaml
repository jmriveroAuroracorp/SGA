<Window x:Class="SGA_Desktop.Dialog.ConfirmationWithListDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Confirmar"
        WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        ResizeMode="NoResize">

    <Border CornerRadius="8"
          Background="{StaticResource BrushFondo}"
          BorderBrush="{StaticResource BrushPrincipal}"
          BorderThickness="2"
          Padding="20"
          SnapsToDevicePixels="True">

        <StackPanel>

            <!-- Icono -->
            <TextBlock FontFamily="Segoe MDL2 Assets"
                 Text="&#xE8FB;"  
                 FontSize="48"
                 Foreground="{StaticResource BrushPrincipal}"
                 HorizontalAlignment="Center"
                 Margin="0,0,0,16"/>

            <!-- Título -->
            <TextBlock Text="Confirmar contenido del palet"
                 FontFamily="{StaticResource FuentePrincipal}"
                 FontSize="24"
                 FontWeight="Bold"
                 Foreground="{StaticResource BrushPrincipal}"
                 TextAlignment="Center"
                 Margin="0,0,0,12"/>

            <!-- Mensaje -->
            <TextBlock Text="Por favor, revise las siguientes líneas y confirme que reflejan el contenido real del palet."
                 FontFamily="{StaticResource FuentePrincipal}"
                 FontSize="16"
                 Foreground="Black"
                 TextWrapping="Wrap"
                 Margin="0,0,0,12"/>

            <!-- Lista de líneas -->
            <Border BorderBrush="{StaticResource BrushPrincipal}" BorderThickness="1" CornerRadius="4" Padding="4" Margin="0,0,0,12" MaxHeight="200">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ListView ItemsSource="{Binding Lineas}">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Artículo" Width="120" DisplayMemberBinding="{Binding CodigoArticulo}"/>
                                <GridViewColumn Header="Descripción" Width="150" DisplayMemberBinding="{Binding DescripcionArticulo}"/>
                                <GridViewColumn Header="Cantidad" Width="80" DisplayMemberBinding="{Binding Cantidad}"/>
                                <GridViewColumn Header="Lote" Width="100" DisplayMemberBinding="{Binding Lote}"/>
                                <GridViewColumn Header="Ubicación" Width="100" DisplayMemberBinding="{Binding Ubicacion}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </ScrollViewer>
            </Border>

            <TextBlock Text="Selecciona el almacén de destino:"
         FontFamily="{StaticResource FuentePrincipal}"
         FontSize="16"
         Margin="0,8,0,4"
         Foreground="Black" />

                    <ComboBox ItemsSource="{Binding Almacenes}"
        SelectedItem="{Binding AlmacenDestinoSeleccionado, Mode=TwoWay}"
         DisplayMemberPath="DescripcionCombo"
        Width="200"
        HorizontalAlignment="Center"
        Margin="0,0,0,12"/>

            <TextBlock Text="Selecciona una ubicación para cerrar el palet:"
           FontFamily="{StaticResource FuentePrincipal}"
           FontSize="16"
           Margin="0,8,0,4"
           Foreground="Black" />

            <ComboBox ItemsSource="{Binding Ubicaciones}"
          SelectedItem="{Binding UbicacionSeleccionada, Mode=TwoWay}"
          DisplayMemberPath="UbicacionMostrada"
          Width="200"
          HorizontalAlignment="Center"
          Margin="0,0,0,12"/>
          
            <!-- Botones -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="Cancelar"
                        Width="80"
                        Margin="0,0,40,0"
                        Style="{StaticResource EstiloBotonPrincipal}"
                        Click="NoButton_Click"/>

                <Button Content="Confirmar"
                        Width="80"
                        Style="{StaticResource EstiloBotonPrincipal}"
                        Click="YesButton_Click"/>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
