<Window x:Class="SGA_Desktop.Dialog.UbicacionDialogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding DialogTitle}"
        Width="500" Height="620"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/SGA_Desktop;component/Resources/Estilos.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Border CornerRadius="8"
            Background="{StaticResource BrushFondo}"
            BorderBrush="{StaticResource BrushPrincipal}"
            BorderThickness="2"
            Padding="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <TabControl Grid.Row="0">
                <TabItem Header="General">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Código:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding CodigoUbicacion}" Style="{StaticResource EstiloCajaTexto}"
                                         IsEnabled="{Binding CanEditCodigo}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Descripción:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding DescripcionUbicacion}" Style="{StaticResource EstiloCajaTexto}"
                                         IsEnabled="{Binding CanEditDescripcion}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Pasillo:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Pasillo}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Estantería:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Estanteria}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Altura:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Altura}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Posición:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Posicion}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="3" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Temp. Mín (°C):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding TemperaturaMin}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Temp. Máx (°C):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding TemperaturaMax}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="4" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Tipo Palet:" Style="{StaticResource LabelStyle}"/>
                                <ComboBox ItemsSource="{Binding TiposPaletDisponibles}"
                                          SelectedValue="{Binding TipoPaletPermitido}"
                                          SelectedValuePath="CodigoPalet"
                                          DisplayMemberPath="Descripcion"
                                          Style="{StaticResource EstiloComboBox}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Vertical" Margin="0,23,0,10">
                                <CheckBox Content="Activo" IsChecked="{Binding Habilitada}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="5" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,0">
                                <TextBlock Text="Tipo Ubicación:" Style="{StaticResource LabelStyle}"/>
                                <ComboBox ItemsSource="{Binding TiposDisponibles}"
                                          SelectedValue="{Binding TipoUbicacionId}"
                                          SelectedValuePath="TipoUbicacionId"
                                          DisplayMemberPath="Descripcion"
                                          Style="{StaticResource EstiloComboBox}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="5" Grid.Column="1" Orientation="Vertical">
                                <TextBlock Text="Orden:" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Orden}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Físicas">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Peso (kg):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Peso}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Alto (mm):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Alto}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>

                            <!-- Fila 1: Dim X / Dim Y -->
                            <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,10">
                                <TextBlock Text="Dim X (mm):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding DimensionX}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,10">
                                <TextBlock Text="Dim Y (mm):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding DimensionY}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>

                            <!-- Fila 2: Dim Z / Ángulo -->
                            <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Vertical" Margin="0,0,20,0">
                                <TextBlock Text="Dim Z (mm):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding DimensionZ}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Vertical">
                                <TextBlock Text="Ángulo (°):" Style="{StaticResource LabelStyle}"/>
                                <TextBox Text="{Binding Angulo}" Style="{StaticResource EstiloCajaTexto}"/>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Alérgenos">
                    <StackPanel Margin="10">
                        <TextBlock Text="Alérgenos Permitidos:" Style="{StaticResource LabelStyle}" Margin="0,0,0,10"/>
                        <ListBox ItemsSource="{Binding AlergenosDisponibles}" Height="200">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <CheckBox Content="{Binding Descripcion}" IsChecked="{Binding IsSelected, Mode=TwoWay}" Margin="0,2"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </TabItem>
            </TabControl>
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                <Button Content="Cancelar" Width="90" Margin="0,0,8,0" Command="{Binding CancelCommand}" Style="{StaticResource EstiloBotonPrincipal}"/>
                <Button Content="{Binding SaveButtonText}" Width="90" Command="{Binding SaveCommand}" Style="{StaticResource EstiloBotonPrincipal}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
