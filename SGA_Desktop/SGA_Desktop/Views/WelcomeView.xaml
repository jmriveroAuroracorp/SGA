<Page x:Class="SGA_Desktop.Views.WelcomeView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:SGA_Desktop.ViewModels"
      Background="Transparent">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  Padding="0,20,0,20">
        <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Contenido principal centrado -->
        <StackPanel Grid.Row="1" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center"
                    Margin="40">
            
            <!-- Logo principal -->
            <Border BorderBrush="{StaticResource BrushPrincipal}"
                    BorderThickness="3"
                    CornerRadius="8"
                    Padding="10"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,30"
                    Background="White">
                <Image Source="../Assets/iconoSGA.jpg" 
                       Height="120" 
                       Width="120"
                       HorizontalAlignment="Center"/>
            </Border>
            
            <!-- Título de bienvenida -->
            <TextBlock Text="¡Bienvenido a AURORA SGA!"
                       FontFamily="{StaticResource FuentePrincipal}"
                       FontSize="36"
                       FontWeight="Bold"
                       Foreground="{StaticResource BrushPrincipal}"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>
            
            <!-- Subtítulo -->
            <TextBlock Text="Sistema de Gestión de Almacén"
                       FontFamily="{StaticResource FuentePrincipal}"
                       FontSize="20"
                       Foreground="Gray"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,40"/>
            
            <!-- Información del usuario -->
            <Border Background="White"
                    CornerRadius="10"
                    Padding="30,20"
                    BorderBrush="{StaticResource BrushPrincipal}"
                    BorderThickness="2"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Información de Sesión"
                               FontFamily="{StaticResource FuentePrincipal}"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="{StaticResource BrushPrincipal}"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,15"/>
                    
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Center"
                                Margin="0,0,0,10">
                        <TextBlock Text="Empresa: "
                                   FontFamily="{StaticResource FuentePrincipal}"
                                   FontSize="16"
                                   FontWeight="Bold"/>
                        <TextBlock Text="{Binding EmpresaNombre}"
                                   FontFamily="{StaticResource FuentePrincipal}"
                                   FontSize="16"
                                   Foreground="{StaticResource BrushPrincipal}"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Center">
                        <TextBlock Text="Operario: "
                                   FontFamily="{StaticResource FuentePrincipal}"
                                   FontSize="16"
                                   FontWeight="Bold"/>
                        <TextBlock Text="{Binding NombreOperario}"
                                   FontFamily="{StaticResource FuentePrincipal}"
                                   FontSize="16"
                                   Foreground="{StaticResource BrushPrincipal}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Resumen de Órdenes de Traspaso -->
            <Border Background="White"
                    CornerRadius="10"
                    Padding="30,20"
                    BorderBrush="{StaticResource BrushPrincipal}"
                    BorderThickness="2"
                    Margin="0,0,0,30">
                <StackPanel>
                    <TextBlock Text="📦 Órdenes de Traspaso"
                               FontFamily="{StaticResource FuentePrincipal}"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="{StaticResource BrushPrincipal}"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,15"/>
                    
                    <!-- Indicador de carga -->
                    <TextBlock Text="Cargando..."
                               FontFamily="{StaticResource FuentePrincipal}"
                               FontSize="14"
                               Foreground="Gray"
                               HorizontalAlignment="Center"
                               Visibility="{Binding CargandoOrdenes, Converter={StaticResource BoolToVisibilityConverter}}"/>
                    
                    <!-- Contadores (ahora clickeables) -->
                    <StackPanel Visibility="{Binding CargandoOrdenes, Converter={StaticResource InverseBoolToVisibilityConverter}}">
                        <!-- Total pendientes - clickeable -->
                        <Button Command="{Binding IrAOrdenesPendientesCommand}"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,0,8"
                                HorizontalContentAlignment="Center"
                                Padding="5">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#E3F2FD"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="• Total pendientes: "
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"/>
                                <TextBlock Text="{Binding TotalOrdenesPendientes}"
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="{StaticResource BrushPrincipal}"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- En proceso - clickeable -->
                        <Button Command="{Binding IrAOrdenesEnProcesoCommand}"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,0,8"
                                HorizontalContentAlignment="Center"
                                Padding="5">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#FFF9C4"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="• En proceso: "
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"/>
                                <TextBlock Text="{Binding OrdenesEnProceso}"
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="#F57C00"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Prioridad alta - clickeable -->
                        <Button Command="{Binding IrAOrdenesPrioridadAltaCommand}"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,0,8"
                                HorizontalContentAlignment="Center"
                                Padding="5">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#FFEBEE"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="• Prioridad alta: "
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"/>
                                <TextBlock Text="{Binding OrdenesPrioridadAlta}"
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="#D32F2F"/>
                                <TextBlock Text=" ⚠️"
                                           FontSize="15"
                                           Visibility="{Binding OrdenesPrioridadAlta, Converter={StaticResource ZeroToCollapsedConverter}}"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Asignadas a mí - clickeable -->
                        <Button Command="{Binding IrAOrdenesAsignadasCommand}"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,0,8"
                                HorizontalContentAlignment="Center"
                                Padding="5">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#E3F2FD"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="• Asignadas a mí: "
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"/>
                                <TextBlock Text="{Binding OrdenesAsignadasAMi}"
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="{StaticResource BrushPrincipal}"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Sin asignar - clickeable -->
                        <Button Command="{Binding IrAOrdenesSinAsignarCommand}"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand"
                                HorizontalContentAlignment="Center"
                                Padding="5">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#FFF3E0"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="• Sin asignar: "
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"/>
                                <TextBlock Text="{Binding OrdenesSinAsignar}"
                                           FontFamily="{StaticResource FuentePrincipal}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="#FF9800"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Mensaje de instrucciones -->
            <TextBlock Text="Selecciona una opción del menú lateral para comenzar"
                       FontFamily="{StaticResource FuentePrincipal}"
                       FontSize="16"
                       Foreground="Gray"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       MaxWidth="400"/>
            
        </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>
